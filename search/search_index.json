{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Bugg backend and frontend app \u00b6 The Bugg Firebase App exists to collect data from, and manage the configuration of, Bugg devices. Overview \u00b6 The backend consists of several parts within the Google Cloud Platform (GCP) ecosystem: Cloud Run Functions , which provide the backend logic Audio Analysis on Google Cloud Computer Engine. Cloud Storage , which stores audio data Firestore database The frontend is built in React, and lives in the bugg_xyz directory. For more information on each part, click the links above.","title":"Index"},{"location":"#bugg-backend-and-frontend-app","text":"The Bugg Firebase App exists to collect data from, and manage the configuration of, Bugg devices.","title":"Bugg backend and frontend app"},{"location":"#overview","text":"The backend consists of several parts within the Google Cloud Platform (GCP) ecosystem: Cloud Run Functions , which provide the backend logic Audio Analysis on Google Cloud Computer Engine. Cloud Storage , which stores audio data Firestore database The frontend is built in React, and lives in the bugg_xyz directory. For more information on each part, click the links above.","title":"Overview"},{"location":"analysis/","text":"Analyses \u00b6 Analyses run on Google Cloud Compute Engine. High level overview of analyses process \u00b6 Each analysis is built into a docker container An instance template is created from each docker container An auto-scaling instance group is created for each instance template When audio is uploaded, each analysis job is pushed onto a pub/sub queue for the particular analysis, which is then picked up within the docker instances for that analysis The instance group scales the analysis with the backlog of the queue. Spot instances are used for lower cost, which may be shut down at any time and retried later bugg-analysis-lib \u00b6 Bugg analysis lib is a python library that begins the work of splitting out the common boilerplate code needed to create a new analyser. Currently it is only in full use by the analysis birdnetlib","title":"Audio Analyses"},{"location":"analysis/#analyses","text":"Analyses run on Google Cloud Compute Engine.","title":"Analyses"},{"location":"analysis/#high-level-overview-of-analyses-process","text":"Each analysis is built into a docker container An instance template is created from each docker container An auto-scaling instance group is created for each instance template When audio is uploaded, each analysis job is pushed onto a pub/sub queue for the particular analysis, which is then picked up within the docker instances for that analysis The instance group scales the analysis with the backlog of the queue. Spot instances are used for lower cost, which may be shut down at any time and retried later","title":"High level overview of analyses process"},{"location":"analysis/#bugg-analysis-lib","text":"Bugg analysis lib is a python library that begins the work of splitting out the common boilerplate code needed to create a new analyser. Currently it is only in full use by the analysis birdnetlib","title":"bugg-analysis-lib"},{"location":"firestore/","text":"Firestore \u00b6 Firestore is used as the database for all general data. Firestore top-level collections \u00b6 analyses \u00b6 This contains basic aesthetic information about the analyses: display name displayName and colours of label colourPrimary and colourSecondary . They are determined using the id (eg birdnet-lite ). It is not known which other fields are still in use: hidden AnoymalyIcon topic trigger audio \u00b6 In this collection is a document for each piece of audio uploaded and processed by the system. downloadToken hasDetections : did any of the analyses find detections (true/false) id location : longitude and latitude of recording metadata project recorder site uploadedAt : timestamp of upload uri : address of audio file within Google Cloud Storage config \u00b6 configId createdAt deployed mobile_network projectId recorders sensor exports \u00b6 beganProcessing completedAt createdAt from id projectId recordedProcessed status type uri filtered \u00b6 This no longer seems to be in use. profiles \u00b6 This holds user accounts. createdAt : timestamp displayName : Displayed name id : authentication ID isAdmin : whether they have access to the admin tabs and functionality projects : which projects are enabled in their account projects \u00b6 Each project is a document here, with the following fields. id : eg proj_demo name : display name eg \"Demo project\" analyses : list of analyses to run on uploads to the project tasks \u00b6 This seems to be used internally to track analyses to be run on audio files. It may have been replaced with an alternative mechanism (Pub/Sub) but records may still be created for debugging purposes.","title":"Firestore Database"},{"location":"firestore/#firestore","text":"Firestore is used as the database for all general data.","title":"Firestore"},{"location":"firestore/#firestore-top-level-collections","text":"","title":"Firestore top-level collections"},{"location":"firestore/#analyses","text":"This contains basic aesthetic information about the analyses: display name displayName and colours of label colourPrimary and colourSecondary . They are determined using the id (eg birdnet-lite ). It is not known which other fields are still in use: hidden AnoymalyIcon topic trigger","title":"analyses"},{"location":"firestore/#audio","text":"In this collection is a document for each piece of audio uploaded and processed by the system. downloadToken hasDetections : did any of the analyses find detections (true/false) id location : longitude and latitude of recording metadata project recorder site uploadedAt : timestamp of upload uri : address of audio file within Google Cloud Storage","title":"audio"},{"location":"firestore/#config","text":"configId createdAt deployed mobile_network projectId recorders sensor","title":"config"},{"location":"firestore/#exports","text":"beganProcessing completedAt createdAt from id projectId recordedProcessed status type uri","title":"exports"},{"location":"firestore/#filtered","text":"This no longer seems to be in use.","title":"filtered"},{"location":"firestore/#profiles","text":"This holds user accounts. createdAt : timestamp displayName : Displayed name id : authentication ID isAdmin : whether they have access to the admin tabs and functionality projects : which projects are enabled in their account","title":"profiles"},{"location":"firestore/#projects","text":"Each project is a document here, with the following fields. id : eg proj_demo name : display name eg \"Demo project\" analyses : list of analyses to run on uploads to the project","title":"projects"},{"location":"firestore/#tasks","text":"This seems to be used internally to track analyses to be run on audio files. It may have been replaced with an alternative mechanism (Pub/Sub) but records may still be created for debugging purposes.","title":"tasks"},{"location":"frontend/","text":"Frontend \u00b6 The frontend is built in React and deployed with Cloudflare \"Workers and Pages\". Admin section \u00b6 If the isAdmin field for a user profile is set to true in the Firestore database, they will have access to the Admin tab. In the Admin tab there are two sections: Projects, where projects can be added and deleted, analyses for them enabled and disabled, and detection counts read. The detection counts expose the raw data within the Firestore database, which varies between analyses. Users, where user display name, admin status and access to projects can be adjusted. Note: new users are not added here but instead by logging into the app with their Google Account.","title":"Frontend"},{"location":"frontend/#frontend","text":"The frontend is built in React and deployed with Cloudflare \"Workers and Pages\".","title":"Frontend"},{"location":"frontend/#admin-section","text":"If the isAdmin field for a user profile is set to true in the Firestore database, they will have access to the Admin tab. In the Admin tab there are two sections: Projects, where projects can be added and deleted, analyses for them enabled and disabled, and detection counts read. The detection counts expose the raw data within the Firestore database, which varies between analyses. Users, where user display name, admin status and access to projects can be adjusted. Note: new users are not added here but instead by logging into the app with their Google Account.","title":"Admin section"},{"location":"runfunctions/","text":"Cloud Run Functions \u00b6 List of functions \u00b6 analysisTriggerCompletedAnalysis analysisTriggerNewAudio createAggregates ext-firestore-bigquery-export-audio-partitioned-fsexportbigquer ext-firestore-bigquery-export-fsexportbigquery giveUserProjectClaims magicLink onAudioRecordChanged onExportRequested onNewAudioFile onNewUser onSpeechFilterRequested onUploadFromBugg processAnomalyFitModelRequests soundOfNorwayCounts soundOfNorwayWebsiteData","title":"Cloud Run Functions"},{"location":"runfunctions/#cloud-run-functions","text":"","title":"Cloud Run Functions"},{"location":"runfunctions/#list-of-functions","text":"analysisTriggerCompletedAnalysis analysisTriggerNewAudio createAggregates ext-firestore-bigquery-export-audio-partitioned-fsexportbigquer ext-firestore-bigquery-export-fsexportbigquery giveUserProjectClaims magicLink onAudioRecordChanged onExportRequested onNewAudioFile onNewUser onSpeechFilterRequested onUploadFromBugg processAnomalyFitModelRequests soundOfNorwayCounts soundOfNorwayWebsiteData","title":"List of functions"},{"location":"storage/","text":"Cloud Storage \u00b6 There are multiple buckets within the Cloud Storage section but it is not known which are still potentially in use. At a minimum gcf-sources-444984640481-europe-west1 is in use and managed by Cloud Functions.","title":"Cloud Storage"},{"location":"storage/#cloud-storage","text":"There are multiple buckets within the Cloud Storage section but it is not known which are still potentially in use. At a minimum gcf-sources-444984640481-europe-west1 is in use and managed by Cloud Functions.","title":"Cloud Storage"}]}